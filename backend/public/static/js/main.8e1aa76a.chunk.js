(this["webpackJsonpactivity-app"]=this["webpackJsonpactivity-app"]||[]).push([[0],{156:function(e,t,a){e.exports=a(313)},213:function(e,t){},310:function(e,t){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABaAAD/4QN+aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9IjM4N0E1NzdFNTFGNDhGQzM3NERCODc1REZENjE2QTY0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUxRjU1REE1RkFBNTExRUFCNzYyQzgzNEI3MzdFQzk3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUxRjU1REE0RkFBNTExRUFCNzYyQzgzNEI3MzdFQzk3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM4YWE3NDZmLTA0YzgtZWQ0Zi1iOTZiLWVmNDY5NmU1YTMwYSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmEyNzZjOTEyLWEzMTgtMjk0MS1hZjkzLTViY2JkMzU1ODY5OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4g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"},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),c=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(14),l=a(19),o=a(46),u=a(135),m=a(5),d={activities:[],searchBy:{title:""}};var p=a(35),v=null;sessionStorage.user&&(v=JSON.parse(sessionStorage.user));var f={users:[],loggedInUser:v,cartItems:[]};var h={isLoading:!1};var E=Object(o.c)({activityReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVITIES":return Object(m.a)(Object(m.a)({},e),{},{activities:t.activities});case"EDIT_ACTIVITY":return Object(m.a)(Object(m.a)({},e),{},{activities:e.activities.map((function(e){return t._activity._id===e._id?t._activity:e}))});case"ADD_ACTIVITY":return Object(m.a)(Object(m.a)({},e),{},{activities:e.activities.push(t.activity)});case"REMOVE_ACTIVITY":return Object(m.a)(Object(m.a)({},e),{},{activities:e.activitys.filter((function(e){return e._id!==t.activityId}))});case"SET_SEARCH":return Object(m.a)(Object(m.a)({},e),{},{searchBy:t.searchBy});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return console.log(t.user),Object(m.a)(Object(m.a)({},e),{},{loggedInUser:t.user});case"SET_USERS":return Object(m.a)(Object(m.a)({},e),{},{users:t.users});case"USER_REMOVE":return Object(m.a)(Object(m.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"UPDATE_USER":return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return t._user._id===e._id?t._user:e}))});case"ADD_TO_CART":return Object(m.a)(Object(m.a)({},e),{},{cartItems:[].concat(Object(p.a)(e.cartItems),[t.toy])});case"SPEND_BALANCE":return Object(m.a)(Object(m.a)({},e),{},{loggedinUser:Object(m.a)(Object(m.a)({},e.loggedinUser),{},{balance:e.loggedinUser.balance-t.spendAmount})});case"CLEAR_CART":return Object(m.a)(Object(m.a)({},e),{},{cartItems:[]});default:return e}},systemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(m.a)(Object(m.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(m.a)(Object(m.a)({},e),{},{isLoading:!1});default:return e}}}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,y=Object(o.e)(E,g(Object(o.a)(u.a))),A=a(18),b=a(8),O=a(9),C=a(11),N=a(10),I=a(6),j=a.n(I),k=a(13),w=a(136),U=a.n(w).a.create({withCredentials:!0}),R=function(e,t){return M(e,"GET",t)},x=function(e,t){return console.log(t),M(e,"POST",t)},B=function(e,t){return M(e,"PUT",t)},S=function(e,t){return M(e,"DELETE",t)};function M(e){return T.apply(this,arguments)}function T(){return(T=Object(k.a)(j.a.mark((function e(t){var a,n,r,i=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"get",n=i.length>2&&void 0!==i[2]?i[2]:null,e.prev=2,e.next=5,U({url:"".concat("/api/").concat(t),method:a,data:n});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var F={query:function(){return R("activity")},getById:function(e){return R("activity/".concat(e))},remove:function(e){return S("activity/".concat(e))},getEmpty:function(){return{title:"",createdAt:"",description:"",location:{address:""},imgUrls:[],participants:[],tags:[],rate:[],reviews:[],msgs:[]}},update:function(e){return B("activity/".concat(e._id),e)},save:function(e){return L.apply(this,arguments)},addRate:function(e,t){if(null!=t)return e.rate.push(t),B("activity/".concat(e._id),e)},uploadCreatedEvents:function(e,t){return e?e.filter((function(e){return e.createdBy._id===t._id})):null},uploadPartOfEvents:function(e,t){if(!e)return null;var a=[];return e.forEach((function(e){e.participants.forEach((function(n){n._id===t._id&&a.push(e)}))})),a},findIdxById:function(e,t){return e.findIndex((function(e){return e._id===t}))}};function L(){return(L=Object(k.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id){e.next=4;break}return e.abrupt("return",B("activity/".concat(t._id),t));case 4:return e.abrupt("return",x("activity",t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=Object(k.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.query(e);case 2:n=t.sent,a({type:"SET_ACTIVITIES",activities:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Q(e){return function(){var t=Object(k.a)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._id?"EDIT_ACTIVITY":"ADD_ACTIVITY",t.next=3,F.save(e);case 3:r=t.sent,a({type:n,_activity:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function H(e){return function(t){Promise.resolve().then((function(){t({type:"SET_SEARCH",searchBy:e})}))}}var G=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={days:[{1:"Sunday"},{2:"Monday"},{3:"Tuesday"},{4:"Wednesday"},{5:"Thursday"},{6:"Friday"},{7:"Saturday"}]},e.setFilterBy=function(t){var a=t.target.value;e.props.dummySetFilter(a)},e.sortByDays=function(t){var a=parseInt(t.target.value);e.props.dummySortByDays(a)},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"filter-bar"},r.a.createElement("button",{className:"chat-button pad-r-10 f-20",value:"Highest Rated",onClick:function(t){return e.setFilterBy(t,"value")}},"Highest Rated"),r.a.createElement("button",{className:"chat-button pad-r-10 f-20",value:"Sports",onClick:function(t){return e.setFilterBy(t,"value")}},"Sports"),r.a.createElement("button",{className:"chat-button pad-r-10 f-20",value:"Yoga",onClick:function(t){return e.setFilterBy(t,"value")}},"Yoga"),r.a.createElement("button",{className:"chat-button pad-r-10 f-20",value:"Nutrition",onClick:function(t){return e.setFilterBy(t,"value")}},"Nutrition"),r.a.createElement("button",{className:"chat-button pad-r-40 f-20",value:"Tel Aviv",onClick:function(t){return e.setFilterBy(t,"value")}},"Tel Aviv"),r.a.createElement("select",{className:"drop-down f-20",onChange:this.sortByDays,name:""},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"By Day"),r.a.createElement("option",{value:"0"},"All Days"),r.a.createElement("option",{value:"1"},"Sunday"),r.a.createElement("option",{value:"2"},"Monday"),r.a.createElement("option",{value:"3"},"Tuesday"),r.a.createElement("option",{value:"4"},"Wednesday"),r.a.createElement("option",{value:"5"},"Thursday"),r.a.createElement("option",{value:"6"},"Friday"),r.a.createElement("option",{value:"7"},"Saturday")),r.a.createElement("button",{className:"chat-button pad-l-80 f-20",value:"",onClick:function(t){return e.setFilterBy(t,"value")}},"Clear"))}}]),a}(n.Component),P=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activity:null,user:null,creator:""},e.calcAvgRate=function(e){var t=0;return e.map((function(e){return t+=e})),t/e.length},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.activity;if(!e)return r.a.createElement("div",null,"Loading....");var t=this.calcAvgRate(this.props.rate);return r.a.createElement("section",null,r.a.createElement(l.b,{to:"activity/".concat(e._id)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-img"},r.a.createElement("img",{className:"img-fit",src:e.imgUrls[0],alt:""})),r.a.createElement("div",{className:"card-text"},r.a.createElement("div",{className:"flex sb"},r.a.createElement("div",{className:"rate-display"},r.a.createElement("div",{className:"green-star"},"\u2605 "),(Math.round(100*t)/100).toFixed(2)," (",e.rate.length,")"),r.a.createElement("div",{className:"orgenizer"},r.a.createElement("img",{className:"attending-img",src:e.createdBy.imgUrl}))),r.a.createElement("div",null,r.a.createElement("div",{className:"green"},e.title),r.a.createElement("div",null,e.subtitle)),r.a.createElement("div",{className:"bold"},"$ ",e.price)))))}}]),a}(n.Component);function W(e){var t=e.activities;return r.a.createElement("div",{className:"cards-long-display marg-top-50"},t.map((function(e){return r.a.createElement(P,{activity:e,rate:e.rate,key:e._id})})))}var Z=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={filterBy:"",byDay:0},e.onSetFilter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState({filterBy:t},(function(){return e.props.loadActivities(e.state.filterBy)}))},e.dummySetFilter=function(t){e.setState({filterBy:t})},e.onRemove=function(t){e.props.removeActivity(t)},e.dummySetFilter=function(t){e.setState({filterBy:t},(function(){return console.log(e.state.filterBy)}))},e.dummySortByDays=function(t){e.setState({byDay:t},(function(){console.log(e.state.byDay)}))},e.onRemove=function(t){e.props.removeActivity(t)},e.calcAvgRate=function(e){var t=0;return e.map((function(e){return t+=e})),t/e.length},e.getActivitiesForDisplay=function(){var t,a,n=e.state.filterBy,r=e.props.activities,i=e.props.searchBy,c=e.state.byDay;return a=0===c?r:r.filter((function(e){return e.dayInWeek===c})),"Tel Aviv"===n&&(t=a.filter((function(e){return e.tags.includes("telAviv")}))),"Sports"===n&&(t=a.filter((function(e){return e.tags.includes("sports")}))),"Yoga"===n&&(t=a.filter((function(e){e.tags.includes("yoga")}))),"Nutrition"===n&&(t=a.filter((function(e){return e.tags.includes("nutrition")}))),"Highest Rated"===n&&(t=a.filter((function(t){return e.calcAvgRate(t.rate)>=4}))),""===n&&(t=a),i?t.filter((function(e){return e.title.toLowerCase().includes(i.title.toLowerCase())})):t},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.props.loadActivities(this.state.filterBy)}},{key:"componentDidUpdate",value:function(e){e.searchBy&&e.searchBy.title!==this.props.searchBy.title&&this.props.loadActivities(this.state.filterBy)}},{key:"render",value:function(){var e=this.getActivitiesForDisplay();return e?r.a.createElement("div",{className:"activity-app main-container marg-top-50"},r.a.createElement("div",{className:"filter"},r.a.createElement(G,{dummySetFilter:this.dummySetFilter,dummySortByDays:this.dummySortByDays})),r.a.createElement(W,{activities:e,onRemove:this.onRemove})):r.a.createElement("div",null,"Loading....")}}]),a}(n.Component),Y={loadActivities:D,removeActivity:function(e){return function(){var t=Object(k.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.remove(e);case 2:a({type:"REMOVE_ACTIVITY",activityId:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},J=Object(s.b)((function(e){return{activities:e.activityReducer.activities,searchBy:e.activityReducer.searchBy}}),Y)(Z),z=a(22),V={login:function(e){return K.apply(this,arguments)},logout:function(){return q.apply(this,arguments)},signup:function(e){return X.apply(this,arguments)},getUsers:function(){return R("user")},getById:function(e){return R("user/".concat(e))},remove:function(e){return S("user/".concat(e))},update:function(e){return B("user/".concat(e._id),e)},guestMode:function(){return{_id:"guest",fullName:"guest",email:"guest@guest",userName:"guest",imgUrl:"https://res.cloudinary.com/dygtul5wx/image/upload/v1600549811/sprint%204/users/guest-user_z4inbq.jpg",prefs:["none"]}},findIdxToMark:function(e,t){return e.findIndex((function(e){return e.name===t.name}))}};function K(){return(K=Object(k.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("auth/login",t);case 2:return a=e.sent,e.abrupt("return",_(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(k.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("auth/signup",t);case 2:return a=e.sent,e.abrupt("return",_(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(k.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}function $(e){return function(){var t=Object(k.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.update(e);case 2:n=t.sent,a({type:"UPDATE_USER",_user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function ee(){return function(){var e=Object(k.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.logout();case 2:t({type:"SET_USER",user:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var te=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activity:null,txt:""},e.updateField=function(t){e.setState({txt:t.target.value})},e.keyPressed=function(t){""!==e.state.txt&&13===t.keyCode&&e.addReview()},e.addReview=function(){var t=e.state.activity,a={id:Date.now(),txt:e.state.txt,rate:5,by:e.props.user};e.setState({txt:""}),e.setState({activity:t}),t.reviews.push(a),F.update(t)},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.setState({activity:this.props.activity})}},{key:"render",value:function(){if(!this.state.activity)return r.a.createElement("h2",null,"Loading..");var e=this.state.activity.reviews;return r.a.createElement("section",null,r.a.createElement("h2",null," Reviews"),e.map((function(e,t){return r.a.createElement("div",{key:t,className:"text-mid"},r.a.createElement("img",{src:e.by.imgUrl,className:"attending-img marg-5"}),e.txt)})),r.a.createElement("div",{className:"d-hi"}),r.a.createElement("h3",null,"Add your own review:"),r.a.createElement("form",{onSubmit:this.addReview},r.a.createElement("input",{className:"review-input",value:this.state.txt,onKeyUp:this.keyPressed,onChange:this.updateField}),r.a.createElement("button",{className:"chat-button"},r.a.createElement("i",{className:"far fa-paper-plane fa-2x"}))))}}]),a}(n.Component),ae=a(137),ne=function(){return r.a.createElement("div",null,r.a.createElement("img",{alt:"",src:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png",style:{height:40,width:40}}))},re=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"300px",width:"370px"}},r.a.createElement(ae.a,{bootstrapURLKeys:{key:"AIzaSyCTwmmUbksAqfSEKLn9fR4oSVbBimBrXvk"},defaultCenter:this.props.center,defaultZoom:this.props.zoom,yesIWantToUseGoogleMapApiInternals:!0},r.a.createElement(ne,{lat:this.props.center.lat,lng:this.props.center.lng})))}}]),a}(n.Component);re.defaultProps={center:{lat:59.95,lng:30.33},zoom:11};var ie,ce=re,se=a(139),le=a.n(se),oe={setup:function(){ie=le()("/")},terminate:function(){ie=null},on:function(e,t){ie.on(e,t)},off:function(e,t){ie.off(e,t)},emit:function(e,t){ie.emit(e,t)}};var ue=a(356),me=a(353),de=a(347),pe=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activity:null,user:V.guestMode(),creator:"",avgRate:null,rateType:"simple-controlled",msg:{from:"Me",txt:""},msgs:["Dana: Hi, anyone coming from Tel-aviv?","Avi: yes - me"],topic:"Love"},e.calcAvgRate=function(){var t=0,a=e.state.activity.rate;a.map((function(e){return t+=e}));var n=t/a.length;e.setState({avgRate:n})},e.addMsg=function(t){e.setState((function(e){return{msgs:[].concat(Object(p.a)(e.msgs),[t])}}))},e.sendMsg=function(t){t.preventDefault(),oe.emit("chat newMsg",e.state.msg.txt),e.setState({msg:{from:"Me",txt:""}})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(z.a)({},n,r),(function(){return e.changeTopic(r)}))},e.msgHandleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{msg:Object(m.a)(Object(m.a)({},e.msg),{},Object(z.a)({},n,r))}}))},e.loadActivity=function(){var t=e.props.match.params.activityId;F.getById(t).then((function(t){e.setState({activity:t},(function(){e.loadCreator(t.createdBy._id),e.calcAvgRate()}))}))},e.loadCreator=function(t){V.getById(t).then((function(t){e.setState({creator:t})}))},e.onRate=function(t,a){F.addRate(t,a),e.setState({rateType:"read-only"})},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){oe.setup(),oe.emit("chat topic",this.state.topic),oe.on("chat addMsg",this.addMsg);var e=this.props.user;if(e){var t={_id:e._id,fullName:e.fullName,imgUrl:e.imgUrl};this.setState({user:t})}this.loadActivity()}},{key:"componentWillUnmount",value:function(){oe.off("chat addMsg",this.addMsg),oe.terminate()}},{key:"purchaseActivity",value:function(e,t,a){"guest"!==t.id&&(a.income+=e.price,this.props.updateUser(a),e.participants.push(t),this.props.saveActivity(e))}},{key:"renderDay",value:function(e){var t="";switch(e){case 1:t="Sunday";break;case 2:t="Monday";break;case 3:t="Tuesday";break;case 4:t="wednesday";break;case 5:t="Thursday";break;case 6:t="Friday";break;case 7:t="Saturday"}return t}},{key:"render",value:function(){var e=this,t=this.state.value,a=this.state,n=a.activity,i=a.user,c=a.creator;return n?r.a.createElement("div",{className:"main-details-card"},r.a.createElement("h2",{className:"f20 title"},n.title),r.a.createElement("div",{className:"in-line"},r.a.createElement("div",{className:"green-star"},"\u2605"),r.a.createElement("p",null,"(",(Math.round(100*this.state.avgRate)/100).toFixed(2),") "),r.a.createElement("p",{className:"f20 title l-grey"},n.subtitle)),r.a.createElement("div",{className:"image-gallery"},n.imgUrls.map((function(e,t){return r.a.createElement("img",{className:"img".concat(t," gallery__img"),key:t,src:e,alt:""})}))),r.a.createElement("div",{className:"event-main-container"},r.a.createElement("div",{className:"event-left-side"},r.a.createElement("div",{className:"event-creator-container"},r.a.createElement("div",null,r.a.createElement("h2",null,n.createdBy.fullName),r.a.createElement("h4",null,r.a.createElement("div",{className:"l-grey"},n.createdBy.title))),r.a.createElement("div",null,r.a.createElement("img",{alt:"",className:"creator-img",src:n.createdBy.imgUrl}))),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement("div",{className:"marg-right"},r.a.createElement("i",{className:"far fa-calendar-alt fa-lg"})),r.a.createElement("p",null,this.renderDay(n.dayInWeek)," - ",n.hour,":00"),r.a.createElement("h5",null,n.location.address)),r.a.createElement("div",{className:"text-box"},r.a.createElement("p",null,n.description)),r.a.createElement("div",{className:"divider d-hi"}),r.a.createElement("div",{className:"just-row"},r.a.createElement("h2",null,"Properties"),n.tags.map((function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement("div",{className:"divider d-hi"}),r.a.createElement("div",{className:".event-buy"},r.a.createElement("div",{className:"center"},r.a.createElement("p",null,"Rate")),r.a.createElement("div",{className:"center"},r.a.createElement(me.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(de.a,{component:"legend"}),r.a.createElement(ue.a,{name:this.state.rateType,value:t,onChange:function(t,a){e.onRate(n,a)}}))),r.a.createElement(te,{activity:n,user:this.state.user}))),r.a.createElement("div",{className:"event-right-side"},r.a.createElement("div",{className:"event-buy"},r.a.createElement("div",{className:"just-row"},r.a.createElement("div",{className:"moneyback"},r.a.createElement("i",{className:"fas fa-money-bill-wave"}),r.a.createElement("p",null,"Money back guarentied")),(Math.round(100*this.state.avgRate)/100).toFixed(2),r.a.createElement("div",{className:"green-star"},"\u2605")),r.a.createElement("div",{className:"center"},r.a.createElement("h2",null,"Price: $",n.price)),"guest"===i._id?r.a.createElement("button",{className:"buy-btn",onClick:function(){return e.props.history.push("/signUp")}},"Join Us NOW!"):"",n.participants.length<n.maxCapacity?r.a.createElement("button",{className:"buy-btn",onClick:function(){return e.purchaseActivity(n,i,c)}},"Sign me up!"):r.a.createElement("button",{className:"sold-out-btn"},"SOLD OUT!")),r.a.createElement("div",{className:"attendings"},r.a.createElement("h3",null,"Attending"),n.participants.map((function(e,t){return r.a.createElement("img",{alt:"",className:"attending-img",key:t,src:e.imgUrl})}))),r.a.createElement("div",{className:"map-container"},r.a.createElement(ce,{center:n.location})),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"chat-container"},r.a.createElement("div",null,this.state.msgs.map((function(e,t){return r.a.createElement("div",{key:t},e)}))),r.a.createElement("form",{onSubmit:this.sendMsg},r.a.createElement("input",{className:"chat-input",type:"text",value:this.state.msg.txt,onChange:this.msgHandleChange,name:"txt"}),r.a.createElement("button",{className:"chat-button"},r.a.createElement("i",{className:"far fa-paper-plane fa-2x"}))))))):r.a.createElement("h2",{className:"center marg-top-50"},"Loading...")}}]),a}(n.Component),ve={saveActivity:Q,updateUser:$},fe=Object(s.b)((function(e){return{activities:e.activityReducer.activities,user:e.userReducer.loggedInUser}}),ve)(pe),he=a(355),Ee=a(351),ge=a(354),ye=a(145);function Ae(e){return be.apply(this,arguments)}function be(){return(be=Object(k.a)(j.a.mark((function e(t){var a,n,r,i,c,s,l,o,u,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"dcnijwmki",a="https://api.cloudinary.com/v1_1/".concat("dcnijwmki","/image/upload"),n=new FormData,r=t.target.files,i=[],c=Object(ye.a)(r),e.prev=6,c.s();case 8:if((s=c.n()).done){e.next=27;break}return l=s.value,n.append("file",l),n.append("upload_preset","iqbe0osh"),e.prev=12,e.next=15,fetch(a,{method:"POST",body:n});case 15:return o=e.sent,e.next=18,o.json();case 18:u=e.sent,i.push(u),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),console.log(e.t0);case 25:e.next=8;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(6),c.e(e.t1);case 32:return e.prev=32,c.f(),e.finish(32);case 35:return m=i.map((function(e){return e.url})),e.abrupt("return",m);case 37:case"end":return e.stop()}}),e,null,[[6,29,32,35],[12,22]])})))).apply(this,arguments)}var Oe=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activity:{},isEdit:!0,isUploading:!1,currUser:null,days:[{1:"Sunday"},{2:"Monday"},{3:"Tuesday"},{4:"Wednesday"},{5:"Thursday"},{6:"Friday"},{7:"Saturday"}],hours:[{6:"6"},{6:"8"},{8:"8"},{9:"9"},{10:"10"},{11:"11"},{12:"12"},{13:"13"},{14:"14"},{15:"15"},{16:"16"},{17:"17"},{18:"18"},{19:"19"},{20:"20"},{21:"21"},{22:"22"}]},e.onSaveActivity=function(){var t=Object(k.a)(j.a.mark((function t(a){var n,r,i,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state.activity,n.createdBy||(r=e.state.currUser._id,i=e.state.currUser.fullName,c=e.state.currUser.imgUrl,n=Object(m.a)(Object(m.a)({},n),{},{createdBy:{_id:r,fullName:i,imgUrl:c}})),t.next=6,e.props.saveActivity(n);case 6:e.props.history.push("/user");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleInput=function(t){var a=t.target,n=a.name,r=a.value;"number"===a.type&&(r=+a.value),e.setState({activity:Object(m.a)(Object(m.a)({},e.state.activity),{},Object(z.a)({},n,r))})},e.uploadFile=function(){var t=Object(k.a)(j.a.mark((function t(a){var n,r,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.activity.imgUrls,e.setState({isUploading:!0}),t.next=4,Ae(a);case 4:r=t.sent,e.setState({isUploading:!1}),i=[].concat(Object(p.a)(n),Object(p.a)(r)),e.setState({activity:Object(m.a)(Object(m.a)({},e.state.activity),{},{imgUrls:i})});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeImg=function(t,a){t.preventDefault(),t.stopPropagation();var n=e.state.activity.imgUrls;n.splice(a,1),e.setState({activity:Object(m.a)(Object(m.a)({},e.state.activity),{},{imgUrls:n})})},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadActivity();var t=this.props.user;this.setState({currUser:t},(function(){return console.log(e.state.currUser)}))}},{key:"loadActivity",value:function(){var e=this,t=this.props.match.params.activityId;if(t)F.getById(t).then((function(t){e.setState({activity:t})}));else{var a=F.getEmpty();this.setState({activity:a})}}},{key:"render",value:function(){var e,t=this,a=this.state.activity,n=this.state.days,i=this.state.hours;return Object.keys(a).length?r.a.createElement("section",{className:"main-container"},r.a.createElement("h2",null,"Edit Activity"),r.a.createElement("form",{className:"form-edit",onSubmit:this.onSaveActivity},r.a.createElement("section",{className:"edit-block flex"},r.a.createElement("section",{className:"edit-details"},r.a.createElement("div",{className:"edit-title flex column"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement(he.a,{label:"Required",margin:"normal",type:"text",value:a.title,variant:"outlined",size:"small",multiline:!0,name:"title",onChange:this.handleInput})),r.a.createElement("div",{className:"edit-subtitle flex column"},r.a.createElement("label",{htmlFor:"subtitle"},"Short Description"),r.a.createElement(he.a,{margin:"normal",type:"text",value:a.subtitle,variant:"outlined",size:"small",multiline:!0,name:"subtitle",onChange:this.handleInput})),r.a.createElement("div",{className:"day-time-block flex"},r.a.createElement("div",{className:"edit-day flex"},r.a.createElement("label",{htmlFor:"dayInWeek"},"Day:"),r.a.createElement(Ee.a,{className:"day-select",value:a.dayInWeek,onChange:this.handleInput,name:"dayInWeek",label:"Required"},n.map((function(e,t){return r.a.createElement(ge.a,{key:t,value:parseInt(Object.keys(e))},Object.values(e))})))),r.a.createElement("div",{className:"edit-hour flex"},r.a.createElement("label",{htmlFor:"hour"},"Hour:"),r.a.createElement(Ee.a,{className:"hour-select",value:a.hour,onChange:this.handleInput,name:"hour",label:"Required"},i.map((function(e,t){return r.a.createElement(ge.a,{key:t,value:parseInt(Object.keys(e))},Object.values(e))}))))),r.a.createElement("section",{className:"price-capacity-block flex"},r.a.createElement("div",{className:"edit-price flex column"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement(he.a,{className:"price-input",type:"number",value:a.price,variant:"outlined",size:"small",name:"price",onChange:this.handleInput})),r.a.createElement("div",{className:"edit-capacity flex column"},r.a.createElement("label",{htmlFor:"price"},"Max Capacity"),r.a.createElement(he.a,{className:"capacity-input",type:"number",value:a.maxCapacity,variant:"outlined",size:"small",name:"capacity",onChange:this.handleInput}))),r.a.createElement("div",{className:"edit-description flex column"},r.a.createElement("label",{htmlFor:"description"},"Detailed Description"),r.a.createElement(he.a,(e={name:"description",value:a.description,size:"small",multiline:!0,variant:"outlined"},Object(z.a)(e,"multiline",!0),Object(z.a)(e,"margin","normal"),Object(z.a)(e,"onChange",this.handleInput),e)))),r.a.createElement("section",{className:"edit-imgs"},r.a.createElement("label",{htmlFor:"images"},"Images"),r.a.createElement("div",{className:"img-gallery-edit flex wrap"},a.imgUrls.map((function(e,a){return r.a.createElement("div",{className:"img-container",key:a},r.a.createElement("img",{className:"img-edit img-".concat(a),key:a,src:e}),r.a.createElement("button",{className:"img-edit-del-btn",key:a,onClick:function(e){return t.removeImg(e,a)}},"remove image"))}))),r.a.createElement("input",{type:"file",multiple:!0,onChange:this.uploadFile}))),r.a.createElement("button",{className:"save-btn",disabled:this.state.isUploading},"Save"))):r.a.createElement("h1",null,"Loading...")}}]),a}(n.Component),Ce={saveActivity:Q},Ne=Object(s.b)((function(e){return{activities:e.activityReducer.activities,user:e.userReducer.loggedInUser}}),Ce)(Oe),Ie=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchBy:{title:""}},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState({searchBy:Object(m.a)(Object(m.a)({},e.state.searchBy),{},Object(z.a)({},n,r))},(function(){e.props.setSearchBy(e.state.searchBy)}))},e.onClickSearchButton=function(){var t=e.state.searchBy.title;e.props.history.push("/activity?searchBy=".concat(t))},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(this.props.location.search).get("searchBy")||"";this.setState({searchBy:{title:t}},(function(){return e.props.setSearchBy(e.state.searchBy)}))}},{key:"render",value:function(){var e=this.props.cssClass;return r.a.createElement("div",{className:e},r.a.createElement("input",{className:"search-input",name:"title",type:"text",value:this.state.searchBy.title,onChange:this.handleChange}),r.a.createElement("div",{className:"search-btn",onClick:this.onClickSearchButton},r.a.createElement("i",{className:"fas fa-search"})))}}]),a}(n.Component),je={setSearchBy:H},ke=Object(s.b)((function(e){return{searchBy:e.activityReducer.searchBy}}),je)(Object(A.f)(Ie));function we(e){return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbo"},r.a.createElement(ke,{cssClass:"jumbo-search"}),r.a.createElement("div",{className:"v-space"}),r.a.createElement("div",{className:"slogan"},r.a.createElement("h2",null,"Live Healthy"),r.a.createElement("h4",null,"Health is a behaviour."),r.a.createElement("h4",null,"Find out how."))))}var Ue=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activities:null},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.props.loadActivities()}},{key:"render",value:function(){var e=this.props.activities;if(!e)return r.a.createElement("div",null,"Loading....");var t=e.slice(0,5);return r.a.createElement("section",null,r.a.createElement("h3",null,"Suggested for you:"),r.a.createElement("p",null,"Find lectures, trainers and suppliers around you"),r.a.createElement("div",{className:"card-row"},t.map((function(e){return r.a.createElement(P,{activity:e,rate:e.rate,key:e._id})}))))}}]),a}(n.Component),Re={loadActivities:D},xe=Object(s.b)((function(e){return{activities:e.activityReducer.activities}}),Re)(Ue),Be=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activities:null},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.props.loadActivities()}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{className:"articles-row"},r.a.createElement("div",{className:"article_a"},r.a.createElement("h2",null,"Hot!")),r.a.createElement("div",{className:"article_b"},r.a.createElement("h2",null,"October"))),r.a.createElement("div",{className:"articles-row"},r.a.createElement("div",{className:"article_c"},r.a.createElement("h2",null,"Article: sport in the modern age")),r.a.createElement("div",{className:"article_a"},r.a.createElement("h2",null,"New"))))}}]),a}(n.Component),Se={loadActivities:D},Me=Object(s.b)((function(e){return{activities:e.activityReducer.activities}}),Se)(Be);var Te={on:function(e,t){var a=function(e){var a=e.detail;t(a)};return window.addEventListener(e,a),function(){window.removeEventListener(e,a)}},emit:function(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}},Fe=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){Te.emit("homePage")}},{key:"componentWillUnmount",value:function(){Te.emit("out of homePage")}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(we,null),r.a.createElement("div",{className:"sugg-container-wrap"},r.a.createElement(xe,null),r.a.createElement(Me,null)))}}]),a}(n.Component),Le={setSearchBy:H},De=Object(s.b)((function(e){return{searchBy:e.activityReducer.searchBy}}),Le)(Fe);function Qe(e){var t=e.activity,a=e.user,n=e.madeOfOperation,i=e.onRemove,c=e.onRemoveFromList;return r.a.createElement("div",{className:"user-activity-preview flex"},r.a.createElement("img",{src:t.imgUrls[0],alt:""}),r.a.createElement("div",{className:"flex column"},r.a.createElement("h4",{className:"fs18"},t.title),r.a.createElement("li",{className:"fs14"},t.location.address)),r.a.createElement(l.b,{to:"activity/".concat(t._id)},"Details"),"orgenizer"===n?r.a.createElement(l.b,{to:"/activity/edit/".concat(t._id)},"Edit"):"","orgenizer"===n?r.a.createElement("button",{onClick:function(){return i(t._id)}},"Remove the event"):"","subscriber"===n?r.a.createElement("button",{onClick:function(){return c(t,a)}},"Remove from Your List"):"")}function He(e){var t=e.activities,a=e.user,n=e.madeOfOperation,i=e.onRemove,c=e.onRemoveFromList;return t?r.a.createElement("div",{className:"user-activity-list flex column"},t.map((function(e){return r.a.createElement(Qe,{activity:e,key:e._id,user:a,onRemove:i,onRemoveFromList:c,madeOfOperation:n})})),"orgenizer"===n?r.a.createElement(l.b,{to:"/user/".concat(a._id)},"For More Details"):""):r.a.createElement("div",null,"you didn't creat any event yet")}function Ge(e){var t=e.activities;console.log(t);for(var a=[],n=0;n<7;n++){a.push([]);for(var i=0;i<11;i++)a[n].push("")}return t&&t.forEach((function(e){var t=Math.floor(e.hour/2);a[e.dayInWeek-1][t]=e.title})),r.a.createElement("table",{className:"timetable fs14"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"titleWrapper"},r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"SUN"),r.a.createElement("th",null,"MON"),r.a.createElement("th",null,"TUE"),r.a.createElement("th",null,"WED"),r.a.createElement("th",null,"THE"),r.a.createElement("th",null,"FRI"),r.a.createElement("th",null,"SAT"))),r.a.createElement("tbody",{className:"timeWrapper"},r.a.createElement("tr",null,r.a.createElement("td",null,"0-2")),r.a.createElement("tr",null,r.a.createElement("td",null,"2-4")),r.a.createElement("tr",null,r.a.createElement("td",null,"4-6")),r.a.createElement("tr",null,r.a.createElement("td",null,"6-8")),r.a.createElement("tr",null,r.a.createElement("td",null,"8-10")),r.a.createElement("tr",null,r.a.createElement("td",null,"10-12")),r.a.createElement("tr",null,r.a.createElement("td",null,"12-14")),r.a.createElement("tr",null,r.a.createElement("td",null,"14-16")),r.a.createElement("tr",null,r.a.createElement("td",null,"16-18")),r.a.createElement("tr",null,r.a.createElement("td",null,"18-20")),r.a.createElement("tr",null,r.a.createElement("td",null,"20-22")),r.a.createElement("tr",null,r.a.createElement("td",null,"22-24"))),a.map((function(e,t){return r.a.createElement("tbody",{key:t},r.a.createElement("tr",{key:t,className:"main-info-table"},e.map((function(e,t){return r.a.createElement("td",{key:t,className:e?"yellow":"whtie"},e.charAt(0)||"")}))))})))}var Pe=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={currUser:null,createdAct:{},participant:{}},e.onRemove=function(t){e.props.removeActivity(t)},e.onRemoveFromList=function(t,a){console.log("before-",t.participants,a._id);var n=F.findIdxById(t.participants,a._id);console.log("idx-",n),t.participants.splice(n,1),console.log("after-",t.participants),e.props.saveActivity(t),V.getById(t.createdBy._id).then((function(a){a.income-=t.price,e.props.updateUser(a)}))},e.onUploadCreatedEvents=function(e,t){return F.uploadCreatedEvents(e,t)},e.onUploadPartOfEvents=function(e,t){return F.uploadPartOfEvents(e,t)},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user?this.props.user:V.guestMode();this.setState({currUser:t},(function(){return e.props.loadActivities(e.state.currUser._id)}))}},{key:"render",value:function(){var e=this.props.activities;Object.keys(e).length||(e=null);var t=this.state.currUser;if(!t)return r.a.createElement("div",null,"loading..");var a=this.onUploadCreatedEvents(e,t),n=this.onUploadPartOfEvents(e,t);return r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"profile-top-bar"},r.a.createElement("div",{className:"profile-bar-left"},r.a.createElement("h2",null,t.fullName),r.a.createElement("h4",null,t.title),r.a.createElement("h4",null,t.email),r.a.createElement("p",null,"Bio:",t.bio)),r.a.createElement("div",{className:"profile-bar-right"},r.a.createElement("img",{className:"profile-pic",src:t.imgUrl}),r.a.createElement("p",null,"change your photo"))),r.a.createElement("div",{className:"flex column"},r.a.createElement("div",{className:"flex mt50 sb"},r.a.createElement("div",{className:"flex column"},r.a.createElement(l.b,{to:"/activity/add"},"Add A New Event"),r.a.createElement("div",{className:"main-info-container"},r.a.createElement("h3",null,"Events I organized:"),a?r.a.createElement(He,{activities:a,user:t,onRemove:this.onRemove,onRemoveFromList:this.onRemoveFromList,madeOfOperation:"orgenizer"}):""),r.a.createElement("div",{className:"main-info-container"},r.a.createElement("h3",null,"Events Im going to:"),n?r.a.createElement(He,{activities:n,user:t,onRemove:this.onRemove,onRemoveFromList:this.onRemoveFromList,madeOfOperation:"subscriber"}):"")),r.a.createElement("div",{className:"flex column tac"},r.a.createElement("h4",null,"Preferences"),r.a.createElement("ul",null,t.prefs.map((function(e,t){return r.a.createElement("li",{className:"tal",key:t},e)}))),r.a.createElement("div",{className:"calender"},r.a.createElement(Ge,{activities:n}))))))}}]),a}(n.Component),We={loadActivities:D,saveActivity:Q,updateUser:$},Ze=Object(s.b)((function(e){return{activities:e.activityReducer.activities,user:e.userReducer.loggedInUser}}),We)(Pe),Ye=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={msg:"",loginCred:{password:""},signupCred:{password:"",username:""}},e.loginHandleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{loginCred:Object(m.a)(Object(m.a)({},e.loginCred),{},Object(z.a)({},n,r))}}))},e.signupHandleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{signupCred:Object(m.a)(Object(m.a)({},e.signupCred),{},Object(z.a)({},n,r))}}))},e.doLogin=function(){var t=Object(k.a)(j.a.mark((function t(a){var n,r,i,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.loginCred,r=n.email,i=n.password,r&&i){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:c={email:r,password:i},e.props.login(c),e.setState({loginCred:{email:"",password:""}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.doSignup=function(){var t=Object(k.a)(j.a.mark((function t(a){var n,r,i,c,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.signupCred,r=n.email,i=n.password,c=n.username,r&&i&&c){t.next=4;break}return t.abrupt("return",e.setState({msg:"All inputs are required!"}));case 4:s={email:r,password:i,username:c},e.props.signup(s),e.setState({signupCred:{email:"",password:"",username:""}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeUser=function(t){e.props.removeUser(t)},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createElement("form",{className:"main-container",onSubmit:this.doLogin},r.a.createElement("input",{type:"text",name:"email",value:this.state.loginCred.email,onChange:this.loginHandleChange,placeholder:"Email"}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("button",null,"Login")),a=this.props.loggedInUser;return r.a.createElement("div",{className:"main-container"},r.a.createElement("h1",null,"Login"),r.a.createElement("h2",null,this.state.msg),a&&r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome: ",a.userName," "),r.a.createElement("button",{onClick:this.props.logout},"Logout")),!a&&t,r.a.createElement("hr",null),r.a.createElement("button",{onClick:this.props.loadUsers},"Get All Users"),this.props.isLoading&&"Loading...",this.props.users&&r.a.createElement("ul",null,this.props.users.map((function(t){return r.a.createElement("li",{key:t._id},r.a.createElement("pre",null,JSON.stringify(t,null,2)),r.a.createElement("button",{onClick:function(){e.removeUser(t._id)}},"Remove ",t.username))}))))}}]),a}(n.Component),Je={login:function(e){return function(){var t=Object(k.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.login(e);case 2:n=t.sent,a({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logout:ee,removeUser:function(e){return function(){var t=Object(k.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.remove(e);case 3:a({type:"USER_REMOVE",userId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadUsers:function(){return function(){var e=Object(k.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,V.getUsers();case 4:a=e.sent,t({type:"SET_USERS",users:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 11:return e.prev=11,t({type:"LOADING_DONE"}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()}},ze=Object(s.b)((function(e){return{users:e.userReducer.users,loggedInUser:e.userReducer.loggedInUser,isLoading:e.systemReducer.isLoading}}),Je)(Ye),Ve=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={msg:"",signupCred:{email:"",password:"",userName:"",fullName:"",prefs:[],imgUrl:""},suggestion:[{name:"sport",isMarked:!1},{name:"yoga",isMarked:!1},{name:"cardio",isMarked:!1},{name:"pilates",isMarked:!1},{name:"mindfullness",isMarked:!1},{name:"meditation",isMarked:!1},{name:"well-being",isMarked:!1},{name:"nutrition",isMarked:!1},{name:"diet",isMarked:!1},{name:"pshychology",isMarked:!1}]},e.onUpdateImg=function(){var t=Object(k.a)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae(a);case 2:n=t.sent,console.log("img-",n),(r=e.state.signupCred).imgUrl=n,e.setState({signupCred:r});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addToPrefs=function(t){(e.state.prefs||[]).push(t.name),e.setState((function(a){return{signupCred:Object(m.a)(Object(m.a)({},a.signupCred),{},{prefs:[].concat(Object(p.a)(e.state.signupCred.prefs),[t.name])})}}));var a=e.state.suggestion,n=V.findIdxToMark(a,t);t.isMarked=!t.isMarked,a.splice(n,1,t),e.setState({suggestion:a})},e.signupHandleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{signupCred:Object(m.a)(Object(m.a)({},e.signupCred),{},Object(z.a)({},n,r))}}))},e.doSignup=function(){var t=Object(k.a)(j.a.mark((function t(a){var n,r,i,c,s,l,o,u;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.signupCred,r=n.email,i=n.password,c=n.userName,s=n.fullName,l=n.prefs,o=n.imgUrl,r&&i&&c&&s&&l&&o){t.next=4;break}return t.abrupt("return",e.setState({msg:"All inputs are required!"}));case 4:u={email:r,password:i,userName:c,fullName:s,prefs:l,imgUrl:o},e.props.signup(u),e.setState({signupCred:{email:"",password:"",userName:"",fullName:"",prefs:[]}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(O.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createElement("form",{className:"",onSubmit:this.doSignup},r.a.createElement("input",{type:"text",name:"email",value:this.state.signupCred.email,onChange:this.signupHandleChange,placeholder:"Email"}),r.a.createElement("br",null),r.a.createElement("input",{name:"password",type:"password",value:this.state.signupCred.password,onChange:this.signupHandleChange,placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"fullName",value:this.state.signupCred.fullName,onChange:this.signupHandleChange,placeholder:"full name"}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"userName",value:this.state.signupCred.username,onChange:this.signupHandleChange,placeholder:"Username"}),r.a.createElement("br",null),r.a.createElement("label",null,"Upload Image",r.a.createElement("input",{onChange:function(t){return e.onUpdateImg(t)},type:"file"})),r.a.createElement("h2",{className:"tac"},"Please choose are your interests?"),r.a.createElement("section",{className:"suggestions fs20 "},this.state.suggestion?this.state.suggestion.map((function(t,a){return r.a.createElement("div",Object(z.a)({key:a,className:"".concat(e.state.suggestion[a].isMarked?"marked ":"unmarked "),onClick:e.pinCard},"onClick",(function(){return e.addToPrefs(t)})),t.name)})):""),r.a.createElement("button",null,"Signup")),a=this.props.loggedInUser;return r.a.createElement("div",{className:"main-container tac"},r.a.createElement("h1",null,"SignUp Here!"),r.a.createElement("h2",null,this.state.msg),a&&r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome: ",a.userName," "),r.a.createElement("button",{onClick:this.props.logout},"Logout")),!a&&t,r.a.createElement("hr",null))}}]),a}(n.Component),Ke={signup:function(e){return console.log("usercred-",e),function(){var t=Object(k.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.signup(e);case 2:n=t.sent,a({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},uploadImg:Ae},Xe=Object(s.b)((function(e){return{users:e.userReducer.users,loggedInUser:e.userReducer.loggedInUser,isLoading:e.systemReducer.isLoading}}),Ke)(Ve),qe=a(75),_e={getMembers:function(e){return e.map((function(e){return e.participants.length}))},getTitles:function(e){return e.map((function(e){return e.title}))},findMaxCapacity:function(e){var t=-1/0;return e.forEach((function(e){t<e.maxCapacity&&(t=e.maxCapacity)})),t},getIncomeFromEvent:function(e){return e.map((function(e){return e.participants.length*e.price}))},getIncome:function(e){return e.reduce((function(e,t){return e+t}),0)},getRandomColor:function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}};var $e=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activities:null},e.onUploadCreatedEvents=function(e,t){return F.uploadCreatedEvents(e,t)},e.onGetTitles=function(e){return _e.getTitles(e)},e.onGetMembers=function(e){return _e.getMembers(e)},e.onFindMaxCapacity=function(e){return _e.findMaxCapacity(e)},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.user;this.props.loadActivities(e._id)}},{key:"render",value:function(){var e=this.props.user,t=this.props.activities;if(!e)return r.a.createElement("div",null,"loading");var a=this.onUploadCreatedEvents(t,e),n=this.onGetTitles(a),i=this.onGetMembers(a),c=this.onFindMaxCapacity(a),s={labels:n,datasets:[{label:"Participants Per Event",backgroundColor:"rgb(149, 191, 143)",borderColor:"rgb(153,209,123)",borderWidth:1,hoverBackgroundColor:"rgb(180, 121, 120)",hoverBorderColor:"rgb(177, 174, 145)",data:i}]};return r.a.createElement("div",null,r.a.createElement("h3",{className:"tac"},"Number of Participants Per Event"),r.a.createElement(qe.Bar,{className:"bar",data:s,width:300,height:300,options:{scales:{xAxes:[{stacked:!0}],yAxes:[{ticks:{beginAtZero:!0,min:0,max:c},stacked:!0}]}}}))}}]),a}(n.Component),et={loadActivities:D},tt=Object(s.b)((function(e){return{activities:e.activityReducer.activities}}),et)($e),at=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activities:null},e.onUploadCreatedEvents=function(e,t){return F.uploadCreatedEvents(e,t)},e.onGetTitles=function(e){return _e.getTitles(e)},e.onGetIncomeFromEvent=function(e){return _e.getIncomeFromEvent(e)},e.onGetIncome=function(e){return _e.getIncome(e)},e.onGetRandomColor=function(){return _e.getRandomColor()},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.user;this.props.loadActivities(e._id)}},{key:"render",value:function(){var e=this,t=this.props.user,a=this.props.activities;if(!t)return r.a.createElement("div",null,"loading");var n=this.onUploadCreatedEvents(a,t),i=this.onGetTitles(n),c=this.onGetIncomeFromEvent(n);console.log(c);var s=this.onGetIncome(c);console.log(s),s!==t.income&&(t.income=s);var l=[],o=[];c.map((function(t){l.push(e.onGetRandomColor()),o.push(e.onGetRandomColor())}));var u={datasets:[{data:c,backgroundColor:[].concat(l),hoverBackgroundColor:[].concat(o)}],labels:i};return r.a.createElement("div",null,r.a.createElement("h3",{className:"tac"},"Income By Events"),r.a.createElement(qe.Pie,{data:u,options:{maintainAspectRatio:!1},width:400,height:400}))}}]),a}(n.Component),nt={loadActivities:D},rt=Object(s.b)((function(e){return{activities:e.activityReducer.activities}}),nt)(at),it=function(e){Object(C.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={currUser:V.guestMode(),activities:null},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;console.log(t),t&&V.getById(t).then((function(t){return e.setState({currUser:t})}))}},{key:"render",value:function(){var e=this.state.currUser;return r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"flex mt50 sb column"},r.a.createElement("div",{className:"flex dashbord-info fs24 column"},r.a.createElement("h3",null,e.fullName),r.a.createElement("h3",null,"Total Sales: $",e.income)),r.a.createElement("div",{className:"flex no-wrap align-center sb"},r.a.createElement("div",{className:"bar m10"},r.a.createElement(tt,{user:e})),r.a.createElement("div",null,r.a.createElement(rt,{user:e})))))}}]),a}(n.Component),ct=[{path:"/activity",component:J},{path:"/activity/edit/:activityId/",component:Ne},{path:"/activity/add",component:Ne},{path:"/activity/:activityId/",component:fe},{path:"/user/:userId",component:Object(s.b)((function(e){return{activities:e.activityReducer.activities,user:e.userReducer.loggedInUser}}),{})(it)},{path:"/user",component:Ze},{path:"/login",component:ze},{path:"/signUp",component:Xe},{path:"/",component:De}],st=function(e){Object(C.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isHomePage:!1},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeHome=Te.on("homePage",(function(){e.setState({isHomePage:!0})})),this.unsubscribeOutOfHome=Te.on("out of homePage",(function(){e.setState({isHomePage:!1})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeHome(),this.unsubscribeOutOfHome()}},{key:"render",value:function(){var e=this.state.isHomePage,t=this.props.user;return r.a.createElement("div",{className:"main-header-wrapper"},r.a.createElement("header",{className:"main-header"},r.a.createElement("div",{className:"left-end"},r.a.createElement("div",{className:"logo"},r.a.createElement(l.c,{to:"/"},r.a.createElement("div",{className:"logo-img"},r.a.createElement("img",{src:a(310),alt:""})))),r.a.createElement("div",null,r.a.createElement(l.c,{className:"nav-override-color cp",to:"/activity"},"Explore"))),!e&&r.a.createElement(ke,{cssClass:"header-search"}),t?r.a.createElement("div",{className:"right-end"},r.a.createElement("div",null,r.a.createElement("div",{className:"cp",onClick:this.props.logout},"Logout")),r.a.createElement("div",null,r.a.createElement(l.c,{className:"nav-override-color",to:"/user"},r.a.createElement("img",{className:"attending-img cursor-pointer",src:t.imgUrl,alt:"#"})))):r.a.createElement("div",{className:"right-end"},r.a.createElement("div",null,r.a.createElement(l.c,{className:"nav-override-color",to:"/login"},"Login"),r.a.createElement(l.c,{className:"nav-override-color",to:"/signUp"},"SignUp")),r.a.createElement("div",null,r.a.createElement(l.c,{className:"nav-override-color",to:"/user"},r.a.createElement("i",{className:"far fa-2x fa-user-circle"}))))))}}]),n}(n.Component),lt={logout:ee},ot=Object(s.b)((function(e){return{user:e.userReducer.loggedInUser}}),lt)(st);function ut(){return r.a.createElement("div",{className:"footer"})}function mt(){return r.a.createElement("div",{className:"App"},r.a.createElement(ot,null),r.a.createElement(A.c,null,ct.map((function(e){return r.a.createElement(A.a,{key:e.path,exact:!0,component:e.component,path:e.path})}))),r.a.createElement(ut,null))}a(311),a(312);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:y},r.a.createElement(l.a,null,r.a.createElement(mt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[156,1,2]]]);
//# sourceMappingURL=main.8e1aa76a.chunk.js.map